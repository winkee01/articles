## 如何安全保存 master key 的建议

### 理解 master key 的重要性

master key 是你所有 GPG 密钥的根基。一旦丢失，你将无法恢复任何用它签发的 subkey。因此，它的安全存储至关重要。

### 导出 master key

1. **导出：** 使用 `gpg --export-secret-keys [你的master key ID]` 命令导出你的 master key。
2. **格式选择：** 导出时，可以选择 ASCII 或 binary 格式。ASCII 格式可读性更好，但文件较大；binary 格式更紧凑，但需要特定的工具才能查看。

### 安全存储 master key

#### 1. **物理介质：**

* **U盘：** 选择一个可靠的 U 盘，最好是经过加密的。
* **移动硬盘：** 容量更大，但携带不便。
* **光盘：** 寿命较短，易受损。

#### 2. **云存储：**

* **加密云存储：** 使用诸如 Nextcloud、Syncthing 等支持端到端加密的云存储服务。
* **个人云服务器：** 如果有条件，可以搭建自己的云服务器，并使用加密方式存储。

#### 3. **纸质备份：**

* **手写：** 将 master key 的 ASCII 导出结果手写在一张纸上。
* **打印：** 将导出结果打印出来。

### 安全建议：

* **多重备份：** 将 master key 备份到多个不同的物理介质或云存储上。
* **离线存储：** 避免将 master key 存储在经常连接网络的设备上。
* **定期检查：** 定期检查备份的完整性。
* **密码保护：** 对存储介质进行密码保护。
* **隐蔽存储：** 将备份存储在安全、隐蔽的地方。
* **定期更新：** 如果发现 master key 存在安全风险，及时生成新的 master key。

### MacOS 特有建议

* **Time Machine：** 可以将备份文件包含在 Time Machine 的备份中，但注意 Time Machine 的备份文件也需要进行离线备份。
* **钥匙串访问：** 虽然钥匙串访问可以存储密码，但不适合存储整个 master key。

虽然 macOS 的钥匙串访问可以存储密码和其他敏感信息，但它主要设计用于个人计算机上的本地存储。master key 的安全性至关重要，将其存储在钥匙串中存在以下风险：

系统漏洞： 如果 macOS 系统存在漏洞，攻击者可能会获取到钥匙串中的信息。
备份恢复： 钥匙串的备份通常会包含在系统的备份中，如果系统备份被泄露，master key 也可能被泄露。
离线访问困难： 钥匙串访问依赖于本地计算机，无法在离线状态下方便地访问。

可以考虑 搭建一个 Vault 服务器来保存 key。

### 总结

选择哪种存储方式取决于你的具体需求和安全偏好。综合考虑安全性、便捷性、成本等因素，选择最适合你的方案。

**重要提醒：**

* **不要将 master key 直接存储在电脑硬盘上。**
* **不要将 master key 发送给任何人，包括在线客服。**
* **定期更换 master key，以提高安全性。**

### 进一步提升安全性

* **硬件安全模块（HSM）：** 如果有条件，可以使用 HSM 来存储 master key，这是目前最高级别的安全保障。
* **多因素认证：** 在访问备份时，可以考虑使用多因素认证，如指纹、面部识别等。

**希望这些建议能帮助你安全地存储 master key。**

**如果你还有其他问题，欢迎随时提出！**
